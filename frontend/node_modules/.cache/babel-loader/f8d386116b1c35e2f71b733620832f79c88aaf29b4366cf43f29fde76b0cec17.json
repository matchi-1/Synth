{"ast":null,"code":"/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { assert } from '../util/assert.js';\n/**\n * Dialog instances are dispatched by the {@link Page} via the `dialog` event.\n *\n * @remarks\n *\n * @example\n *\n * ```ts\n * import puppeteer from 'puppeteer';\n *\n * (async () => {\n *   const browser = await puppeteer.launch();\n *   const page = await browser.newPage();\n *   page.on('dialog', async dialog => {\n *     console.log(dialog.message());\n *     await dialog.dismiss();\n *     await browser.close();\n *   });\n *   page.evaluate(() => alert('1'));\n * })();\n * ```\n *\n * @public\n */\nexport class Dialog {\n  #type;\n  #message;\n  #defaultValue;\n  /**\n   * @internal\n   */\n  handled = false;\n  /**\n   * @internal\n   */\n  constructor(type, message, defaultValue = '') {\n    this.#type = type;\n    this.#message = message;\n    this.#defaultValue = defaultValue;\n  }\n  /**\n   * The type of the dialog.\n   */\n  type() {\n    return this.#type;\n  }\n  /**\n   * The message displayed in the dialog.\n   */\n  message() {\n    return this.#message;\n  }\n  /**\n   * The default value of the prompt, or an empty string if the dialog\n   * is not a `prompt`.\n   */\n  defaultValue() {\n    return this.#defaultValue;\n  }\n  /**\n   * A promise that resolves when the dialog has been accepted.\n   *\n   * @param promptText - optional text that will be entered in the dialog\n   * prompt. Has no effect if the dialog's type is not `prompt`.\n   *\n   */\n  async accept(promptText) {\n    assert(!this.handled, 'Cannot accept dialog which is already handled!');\n    this.handled = true;\n    await this.handle({\n      accept: true,\n      text: promptText\n    });\n  }\n  /**\n   * A promise which will resolve once the dialog has been dismissed\n   */\n  async dismiss() {\n    assert(!this.handled, 'Cannot dismiss dialog which is already handled!');\n    this.handled = true;\n    await this.handle({\n      accept: false\n    });\n  }\n}","map":{"version":3,"names":["assert","Dialog","type","message","defaultValue","handled","constructor","accept","promptText","handle","text","dismiss"],"sources":["C:\\Users\\raffy\\Desktop\\test\\node_modules\\puppeteer-core\\src\\api\\Dialog.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2017 Google Inc.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport type {Protocol} from 'devtools-protocol';\n\nimport {assert} from '../util/assert.js';\n\n/**\n * Dialog instances are dispatched by the {@link Page} via the `dialog` event.\n *\n * @remarks\n *\n * @example\n *\n * ```ts\n * import puppeteer from 'puppeteer';\n *\n * (async () => {\n *   const browser = await puppeteer.launch();\n *   const page = await browser.newPage();\n *   page.on('dialog', async dialog => {\n *     console.log(dialog.message());\n *     await dialog.dismiss();\n *     await browser.close();\n *   });\n *   page.evaluate(() => alert('1'));\n * })();\n * ```\n *\n * @public\n */\nexport abstract class Dialog {\n  #type: Protocol.Page.DialogType;\n  #message: string;\n  #defaultValue: string;\n  /**\n   * @internal\n   */\n  protected handled = false;\n\n  /**\n   * @internal\n   */\n  constructor(\n    type: Protocol.Page.DialogType,\n    message: string,\n    defaultValue = ''\n  ) {\n    this.#type = type;\n    this.#message = message;\n    this.#defaultValue = defaultValue;\n  }\n\n  /**\n   * The type of the dialog.\n   */\n  type(): Protocol.Page.DialogType {\n    return this.#type;\n  }\n\n  /**\n   * The message displayed in the dialog.\n   */\n  message(): string {\n    return this.#message;\n  }\n\n  /**\n   * The default value of the prompt, or an empty string if the dialog\n   * is not a `prompt`.\n   */\n  defaultValue(): string {\n    return this.#defaultValue;\n  }\n\n  /**\n   * @internal\n   */\n  protected abstract handle(options: {\n    accept: boolean;\n    text?: string;\n  }): Promise<void>;\n\n  /**\n   * A promise that resolves when the dialog has been accepted.\n   *\n   * @param promptText - optional text that will be entered in the dialog\n   * prompt. Has no effect if the dialog's type is not `prompt`.\n   *\n   */\n  async accept(promptText?: string): Promise<void> {\n    assert(!this.handled, 'Cannot accept dialog which is already handled!');\n    this.handled = true;\n    await this.handle({\n      accept: true,\n      text: promptText,\n    });\n  }\n\n  /**\n   * A promise which will resolve once the dialog has been dismissed\n   */\n  async dismiss(): Promise<void> {\n    assert(!this.handled, 'Cannot dismiss dialog which is already handled!');\n    this.handled = true;\n    await this.handle({\n      accept: false,\n    });\n  }\n}\n"],"mappings":"AAAA;;;;;AAQA,SAAQA,MAAM,QAAO,mBAAmB;AAExC;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAM,MAAgBC,MAAM;EAC1B,CAAAC,IAAK;EACL,CAAAC,OAAQ;EACR,CAAAC,YAAa;EACb;;;EAGUC,OAAO,GAAG,KAAK;EAEzB;;;EAGAC,YACEJ,IAA8B,EAC9BC,OAAe,EACfC,YAAY,GAAG,EAAE;IAEjB,IAAI,CAAC,CAAAF,IAAK,GAAGA,IAAI;IACjB,IAAI,CAAC,CAAAC,OAAQ,GAAGA,OAAO;IACvB,IAAI,CAAC,CAAAC,YAAa,GAAGA,YAAY;EACnC;EAEA;;;EAGAF,IAAIA,CAAA;IACF,OAAO,IAAI,CAAC,CAAAA,IAAK;EACnB;EAEA;;;EAGAC,OAAOA,CAAA;IACL,OAAO,IAAI,CAAC,CAAAA,OAAQ;EACtB;EAEA;;;;EAIAC,YAAYA,CAAA;IACV,OAAO,IAAI,CAAC,CAAAA,YAAa;EAC3B;EAUA;;;;;;;EAOA,MAAMG,MAAMA,CAACC,UAAmB;IAC9BR,MAAM,CAAC,CAAC,IAAI,CAACK,OAAO,EAAE,gDAAgD,CAAC;IACvE,IAAI,CAACA,OAAO,GAAG,IAAI;IACnB,MAAM,IAAI,CAACI,MAAM,CAAC;MAChBF,MAAM,EAAE,IAAI;MACZG,IAAI,EAAEF;KACP,CAAC;EACJ;EAEA;;;EAGA,MAAMG,OAAOA,CAAA;IACXX,MAAM,CAAC,CAAC,IAAI,CAACK,OAAO,EAAE,iDAAiD,CAAC;IACxE,IAAI,CAACA,OAAO,GAAG,IAAI;IACnB,MAAM,IAAI,CAACI,MAAM,CAAC;MAChBF,MAAM,EAAE;KACT,CAAC;EACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}